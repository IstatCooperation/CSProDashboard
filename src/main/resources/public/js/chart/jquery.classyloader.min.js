!function(t){t.fn.ClassyLoader=function(e){e=t.extend({},{width:200,height:200,animate:!0,displayOnLoad:!0,percentage:100,speed:1,roundedLine:!1,showRemaining:!0,fontFamily:"Helvetica",fontStyle:"",fontSize:"50px",showText:!0,diameter:80,fontColor:"rgba(25, 25, 25, 0.6)",lineColor:"rgba(55, 55, 55, 1)",remainingLineColor:"rgba(55, 55, 55, 0.4)",lineWidth:5,start:"left"},e);var i=t(this);return this.draw=function(t){"undefined"!=typeof t&&(e.percentage=t);var n=i[0].getContext("2d"),o=i.width()/2,r=i.height()/2,a=0,l=0;n.scale(1,1),n.lineWidth=e.lineWidth,n.strokeStyle=e.lineColour,setTimeout(function t(){var h=Math.PI/180*360/100*(a+1),h=h||Math.PI/180*360/100*(a+1);switch(n.clearRect(0,0,i.width(),i.height()),!0===e.showRemaining&&(n.beginPath(),n.strokeStyle=e.remainingLineColor,n.arc(o,r,e.diameter,0,360),n.stroke(),n.closePath()),n.strokeStyle=e.lineColor,n.beginPath(),n.lineCap=!0===e.roundedLine?"round":"butt",e.start){case"top":l=1.5*Math.PI;break;case"bottom":l=.5*Math.PI;break;case"right":l=1*Math.PI;break;default:l=0}n.arc(o,r,e.diameter,l,h+l),n.stroke(),n.closePath(),!0===e.showText&&(n.fillStyle=e.fontColor,n.font=(""!==e.fontStyle?e.fontStyle+" ":"")+e.fontSize+" "+e.fontFamily,n.textAlign="center",n.textBaseline="middle",n.fillText(a+1+"%",o,r)),a+=1,a<e.percentage&&setTimeout(t,e.speed)},e.speed)},this.setPercent=function(t){return e.percentage=t,this},this.getPercent=function(){return e.percentage},this.show=function(){var t=i[0].getContext("2d"),n=i.width()/2,o=i.height()/2;t.scale(1,1),t.lineWidth=e.lineWidth,t.strokeStyle=e.lineColour,t.clearRect(0,0,i.width(),i.height()),t.strokeStyle=e.lineColor,t.beginPath(),t.arc(n,o,e.diameter,0,Math.PI/180*(e.percentage/100)*360),t.stroke(),t.closePath(),!0===e.showText&&(t.fillStyle=e.fontColor,t.font=(""!==e.fontStyle?e.fontStyle+" ":"")+e.fontSize+" "+e.fontFamily,t.textAlign="center",t.textBaseline="middle",t.fillText(e.percentage+"%",n,o)),!0===e.showRemaining&&(t.beginPath(),t.strokeStyle=e.remainingLineColor,t.arc(n,o,e.diameter,0,360),t.stroke(),t.closePath())},this.__constructor=function(){return t(this).attr("width",e.width),t(this).attr("height",e.height),!0===e.displayOnLoad&&(!0===e.animate?this.draw():this.show()),this},this.__constructor()}}(jQuery);